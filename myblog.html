<!DOCTYPE html>
<html lang="en"></html>

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport", content="width=device-width, initial-scale=1.0" />
    <title>Web Blog</title>
    <link rel="stylesheet" href="styles.css"/>
</head>

<body>
    <h1>Making the REST API</h1>

    <h2>The Controller</h2>

        <article>
        <h3>The imports & constants of the REST API</h3>
        <img src="blog images/1.PNG">
        <ul>
            <li>import dotenv/config is used so that we can access process.env.PORT which tells the file
                which port to listen on (env in separate file for securty)
            </li>
            <li>second line imports Express, it's used to create web server and handle HTTP 
                requests and responses (user inputs, displaying stuff, routing, etc). Handles the post, get,
                put, delete HTTP requests. Also handles middleware for parsing JSON, logging, authentication, etc. 
            </li>
            <li>
                ascynHandler is used so that we don't need to write a try and else block of code
                in every async route, it automatically catches errors and passes them to Express's built in error handler  
            </li>
            <li>
                The * means import everything that module exports as exercises in this case. When we want to call on a 
                function we do exercises.nameoffunction. 
            </li>
            <p>Note: constant for app is needed because the express() doesn't take any parameters. 
            Can't use express().get, have to define it first to then use app.get
            </p>
        </ul>
        </article>

        <article>
            <h3>The use and listen functions of Express</h3>
            <img src="blog images/2.PNG">
            <p>app.use is calling on an Express function "use" that registers middleware. It runs on
               every request because it doesn't have a route. If we said app.use('/api') then it only 
               runs on URL starts with /api. The express.json() is a middleware that helps parse incoming
               JSON data in request body (it converts it into a JS object so computer understands).
            </p>
            <p>The listen function in Express takes in parameter PORT which we defined earlier. The 
                async 
            </p>
            <p>Note: middleware refers to functions that runs during execution of a request and parsing
               means converting data from one format to another.
            </p>
        </article>

</body>